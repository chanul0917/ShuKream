<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.favorites">
	<!-- 리절트 맵 정의 -->
	
	<resultMap id="likeResult" type="LikeVO">
		<result property="like_idx" column="like_idx" />
		<result property="like_product_idx" column="like_product_idx" />
		<result property="like_mem_id" column="like_mem_id" />
	</resultMap>
	
	<resultMap id="favoritesResult" type="FavoritesVO">
		<result property="product_id" column="product_id" />
		<result property="product_name_en" column="product_name_en" />
		<result property="product_name_kor" column="product_name_kor" />
		<result property="model_number" column="model_number" />
		<result property="product_color" column="product_color" />
		<result property="product_price" column="product_price" />
		<result property="product_release_date" column="product_release_date" />
		
		<result property="img_id" column="img_id" />
		<result property="img_product_idx" column="img_product_idx" />
		<result property="img_realfile" column="img_realfile" />
		<result property="img_file" column="img_file" />
		<result property="img_thumb" column="img_thumb" />
		<result property="img_repthumb" column="img_repthumb" />
		<result property="img_del" column="img_del" />
		
	</resultMap>


	<select id="selectLikeList"  parameterType="likeVO"  resultMap="likeResult"   >
	    <![CDATA[

			SELECT * FROM PRODUCT_LIKE 
			WHERE LIKE_MEM_ID=#{like_mem_id} 
			
		]]>
	</select>

	<select id="selectFavoritesList" resultMap="favoritesResult" parameterType="java.util.Map">
  		<![CDATA[
		    
	        SELECT P.product_name_en, P.product_name_kor, P.product_price,
   	  		I.img_file
		    FROM PRODUCTS P,IMAGES I
		    WHERE P.PRODUCT_ID = I.IMG_ID 
            AND P.PRODUCT_ID IN
			(1,2,3)	
		]]>
			 
<!-- 		
		<foreach item="item" collection="list" open="("  separator=","  close=")">
			#{item.LIKE_IDX}
		</foreach>    
		 -->
  		

 
	
	</select>



</mapper>
